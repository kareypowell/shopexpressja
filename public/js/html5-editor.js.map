{"version":3,"file":"/js/html5-editor.js","mappings":"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","sources":["webpack:///./resources/js/html5-editor.js"],"sourcesContent":["/**\n * HTML5 Editor with Placeholder Support\n * Replacement for TinyMCE with similar functionality\n */\nclass HTML5Editor {\n    constructor(selector, options = {}) {\n        this.selector = selector;\n        this.element = document.querySelector(selector);\n        this.options = {\n            height: 400,\n            placeholders: [],\n            onChange: null,\n            onKeyup: null,\n            onInit: null,\n            ...options\n        };\n        \n        this.editor = null;\n        this.toolbar = null;\n        this.placeholderDropdown = null;\n        \n        this.init();\n    }\n    \n    init() {\n        if (!this.element) {\n            console.error('HTML5Editor: Element not found for selector:', this.selector);\n            return;\n        }\n        \n        this.createEditor();\n        this.createToolbar();\n        this.setupEventListeners();\n        \n        if (this.options.onInit) {\n            this.options.onInit(this);\n        }\n    }\n    \n    createEditor() {\n        // Hide the original textarea\n        this.element.style.display = 'none';\n        \n        // Create editor container\n        const container = document.createElement('div');\n        container.className = 'html5-editor-container border border-gray-300 rounded-md overflow-hidden';\n        \n        // Create toolbar container\n        this.toolbar = document.createElement('div');\n        this.toolbar.className = 'html5-editor-toolbar bg-gray-50 border-b border-gray-300 p-2 flex flex-wrap gap-1';\n        \n        // Create editor\n        this.editor = document.createElement('div');\n        this.editor.className = 'html5-editor-content p-3 focus:outline-none';\n        this.editor.contentEditable = true;\n        this.editor.style.minHeight = this.options.height + 'px';\n        this.editor.style.maxHeight = '600px';\n        this.editor.style.overflowY = 'auto';\n        \n        // Set initial content\n        this.editor.innerHTML = this.element.value || '';\n        \n        // Append elements\n        container.appendChild(this.toolbar);\n        container.appendChild(this.editor);\n        this.element.parentNode.insertBefore(container, this.element.nextSibling);\n    }\n    \n    createToolbar() {\n        const buttons = [\n            { command: 'bold', icon: 'B', title: 'Bold', className: 'font-bold' },\n            { command: 'italic', icon: 'I', title: 'Italic', className: 'italic' },\n            { command: 'underline', icon: 'U', title: 'Underline', className: 'underline' },\n            { type: 'separator' },\n            { command: 'justifyLeft', icon: '⬅', title: 'Align Left' },\n            { command: 'justifyCenter', icon: '⬌', title: 'Align Center' },\n            { command: 'justifyRight', icon: '➡', title: 'Align Right' },\n            { type: 'separator' },\n            { command: 'insertUnorderedList', icon: '• List', title: 'Bullet List' },\n            { command: 'insertOrderedList', icon: '1. List', title: 'Numbered List' },\n            { type: 'separator' },\n            { command: 'removeFormat', icon: '✗', title: 'Remove Formatting' }\n        ];\n        \n        buttons.forEach(button => {\n            if (button.type === 'separator') {\n                const separator = document.createElement('div');\n                separator.className = 'w-px bg-gray-300 mx-1';\n                this.toolbar.appendChild(separator);\n            } else {\n                const btn = this.createToolbarButton(button);\n                this.toolbar.appendChild(btn);\n            }\n        });\n        \n        // Add placeholders dropdown if placeholders are provided\n        if (this.options.placeholders && this.options.placeholders.length > 0) {\n            const separator = document.createElement('div');\n            separator.className = 'w-px bg-gray-300 mx-1';\n            this.toolbar.appendChild(separator);\n            \n            this.createPlaceholderDropdown();\n        }\n    }\n    \n    createToolbarButton(button) {\n        const btn = document.createElement('button');\n        btn.type = 'button';\n        btn.className = `html5-editor-btn px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-indigo-500 ${button.className || ''}`;\n        btn.innerHTML = button.icon;\n        btn.title = button.title;\n        \n        btn.addEventListener('click', (e) => {\n            e.preventDefault();\n            this.execCommand(button.command);\n        });\n        \n        return btn;\n    }\n    \n    createPlaceholderDropdown() {\n        const container = document.createElement('div');\n        container.className = 'relative inline-block';\n        \n        const button = document.createElement('button');\n        button.type = 'button';\n        button.className = 'html5-editor-btn px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-indigo-500 flex items-center gap-1';\n        button.innerHTML = 'Placeholders <span class=\"text-xs\">▼</span>';\n        \n        const dropdown = document.createElement('div');\n        dropdown.className = 'absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-md shadow-lg z-50 hidden';\n        dropdown.style.maxHeight = '200px';\n        dropdown.style.overflowY = 'auto';\n        \n        this.options.placeholders.forEach(placeholder => {\n            const item = document.createElement('button');\n            item.type = 'button';\n            item.className = 'w-full text-left px-3 py-2 text-sm hover:bg-gray-100 border-b border-gray-100 last:border-b-0';\n            item.innerHTML = `\n                <div class=\"font-medium text-gray-900\">${placeholder.text}</div>\n                <div class=\"text-xs text-gray-500\">${placeholder.description || ''}</div>\n            `;\n            \n            item.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.insertPlaceholder(placeholder.value);\n                dropdown.classList.add('hidden');\n            });\n            \n            dropdown.appendChild(item);\n        });\n        \n        button.addEventListener('click', (e) => {\n            e.preventDefault();\n            dropdown.classList.toggle('hidden');\n        });\n        \n        // Close dropdown when clicking outside\n        document.addEventListener('click', (e) => {\n            if (!container.contains(e.target)) {\n                dropdown.classList.add('hidden');\n            }\n        });\n        \n        container.appendChild(button);\n        container.appendChild(dropdown);\n        this.toolbar.appendChild(container);\n        \n        this.placeholderDropdown = dropdown;\n    }\n    \n    execCommand(command, value = null) {\n        this.editor.focus();\n        document.execCommand(command, false, value);\n        this.updateTextarea();\n    }\n    \n    insertPlaceholder(placeholder) {\n        this.editor.focus();\n        \n        const selection = window.getSelection();\n        const range = selection.getRangeAt(0);\n        \n        const span = document.createElement('span');\n        span.className = 'placeholder bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-sm font-medium';\n        span.textContent = placeholder;\n        span.contentEditable = false;\n        \n        range.deleteContents();\n        range.insertNode(span);\n        \n        // Move cursor after the placeholder\n        range.setStartAfter(span);\n        range.setEndAfter(span);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        \n        this.updateTextarea();\n    }\n    \n    setupEventListeners() {\n        // Update textarea on content change\n        this.editor.addEventListener('input', () => {\n            this.updateTextarea();\n            if (this.options.onChange) {\n                this.options.onChange(this.getContent());\n            }\n        });\n        \n        this.editor.addEventListener('keyup', () => {\n            this.updateTextarea();\n            if (this.options.onKeyup) {\n                this.options.onKeyup(this.getContent());\n            }\n        });\n        \n        // Handle @ symbol for placeholder insertion\n        this.editor.addEventListener('keydown', (e) => {\n            if (e.key === '@' && this.options.placeholders && this.options.placeholders.length > 0) {\n                e.preventDefault();\n                this.showPlaceholderSuggestions();\n            }\n        });\n        \n        // Prevent line breaks in placeholders\n        this.editor.addEventListener('keydown', (e) => {\n            const selection = window.getSelection();\n            if (selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const container = range.commonAncestorContainer;\n                const placeholder = container.nodeType === Node.TEXT_NODE \n                    ? container.parentElement \n                    : container;\n                \n                if (placeholder && placeholder.classList && placeholder.classList.contains('placeholder')) {\n                    if (e.key === 'Enter' || e.key === 'Backspace' || e.key === 'Delete') {\n                        e.preventDefault();\n                        if (e.key === 'Backspace' || e.key === 'Delete') {\n                            placeholder.remove();\n                            this.updateTextarea();\n                        }\n                    }\n                }\n            }\n        });\n    }\n    \n    showPlaceholderSuggestions() {\n        if (this.placeholderDropdown) {\n            this.placeholderDropdown.classList.remove('hidden');\n        }\n    }\n    \n    updateTextarea() {\n        this.element.value = this.getContent();\n        \n        // Trigger change event for form validation\n        const event = new Event('change', { bubbles: true });\n        this.element.dispatchEvent(event);\n    }\n    \n    getContent() {\n        return this.editor.innerHTML;\n    }\n    \n    setContent(content) {\n        this.editor.innerHTML = content || '';\n        this.updateTextarea();\n    }\n    \n    destroy() {\n        if (this.editor && this.editor.parentNode) {\n            const container = this.editor.parentNode;\n            container.remove();\n            this.element.style.display = '';\n        }\n    }\n}\n\n// Export for use in other files\nwindow.HTML5Editor = HTML5Editor;"],"names":["HTML5Editor","selector","options","arguments","length","undefined","_classCallCheck","this","element","document","querySelector","_objectSpread","height","placeholders","onChange","onKeyup","onInit","editor","toolbar","placeholderDropdown","init","key","value","createEditor","createToolbar","setupEventListeners","console","error","style","display","container","createElement","className","contentEditable","minHeight","maxHeight","overflowY","innerHTML","appendChild","parentNode","insertBefore","nextSibling","_this","command","icon","title","type","forEach","button","separator","btn","createToolbarButton","createPlaceholderDropdown","_this2","concat","addEventListener","e","preventDefault","execCommand","_this3","dropdown","placeholder","item","text","description","insertPlaceholder","classList","add","toggle","contains","target","focus","updateTextarea","selection","window","getSelection","range","getRangeAt","span","textContent","deleteContents","insertNode","setStartAfter","setEndAfter","removeAllRanges","addRange","_this4","getContent","showPlaceholderSuggestions","rangeCount","commonAncestorContainer","nodeType","Node","TEXT_NODE","parentElement","remove","event","Event","bubbles","dispatchEvent","content"],"sourceRoot":""}